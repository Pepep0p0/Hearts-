<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Museum of Us</title>

<style>
:root {
  --bg: #fff6f8;
  --pink: #f6a6c1;
  --soft: #ffeef4;
  --ink: #4b2c3a;
}

* { box-sizing: border-box; font-family: "Trebuchet MS", system-ui; }

body {
  margin: 0;
  background: var(--bg);
  color: var(--ink);
  overflow-x: hidden;
}

/* ---------- SCREENS ---------- */
.screen {
  display: none;
  padding: 20px;
}
.screen.active { display: block; }

h1, h2 {
  text-align: center;
  margin-bottom: 10px;
}

/* ---------- BUTTONS ---------- */
button {
  background: var(--pink);
  border: none;
  padding: 12px 18px;
  border-radius: 12px;
  font-size: 16px;
  cursor: pointer;
}

/* ---------- AVATAR ---------- */
#avatar {
  position: absolute;
  bottom: 80px;
  left: 20px;
  width: 80px;
  height: 120px;
  transition: left 1s ease-in-out;
}

.body {
  width: 60px;
  height: 60px;
  background: #ffd8c9;
  border-radius: 50%;
  margin: auto;
}

.dress {
  width: 80px;
  height: 60px;
  border-radius: 0 0 40px 40px;
  margin-top: -10px;
}

.pattern-yellow { background: yellow; background-image: radial-gradient(red 2px, transparent 2px); background-size: 10px 10px; }
.pattern-red { background: #d94b4b; background-image: repeating-linear-gradient(45deg, white 0 2px, transparent 2px 6px); }
.pattern-lavender { background: lavender; background-image: radial-gradient(white 1px, transparent 1px); background-size: 8px 8px; }
.pattern-mint { background: #aee; background-image: repeating-linear-gradient(90deg, white 0 2px, transparent 2px 6px); }

.headgear {
  position: absolute;
  top: -10px;
  left: 10px;
  font-size: 30px;
}

/* ---------- MUSEUM ---------- */
#museum {
  position: relative;
  height: 70vh;
  background: linear-gradient(#fff, #ffe6ef);
  border-radius: 20px;
  margin-top: 20px;
}

.artifact {
  position: absolute;
  width: 80px;
  height: 80px;
  background: var(--soft);
  border-radius: 12px;
  text-align: center;
  padding-top: 10px;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  cursor: pointer;
}

.artifact.locked { opacity: 0.4; }
.artifact.unlocked { background: #fff; border: 2px solid var(--pink); }

/* ---------- MODAL ---------- */
#modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
  display: none;
  align-items: center;
  justify-content: center;
}

#modalContent {
  background: white;
  padding: 20px;
  border-radius: 16px;
  width: 90%;
  max-width: 400px;
}

/* ---------- COUPON ---------- */
#coupon {
  border: 2px dashed var(--pink);
  padding: 20px;
  border-radius: 16px;
  background: #fff;
  text-align: center;
  margin-top: 20px;
}
</style>
</head>

<body>

<div id="start" class="screen active">
  <h1>Museum of Us</h1>
  <input id="fname" placeholder="First name"><br><br>
  <input id="lname" placeholder="Last name"><br><br>

  <h3>Choose dress</h3>
  <select id="dress">
    <option value="pattern-yellow">Yellow (Polka)</option>
    <option value="pattern-red">Red (Floral)</option>
    <option value="pattern-lavender">Lavender (Stars)</option>
    <option value="pattern-mint">Mint (Stripes)</option>
  </select>

  <h3>Headgear</h3>
  <select id="headgear">
    <option value="">None</option>
    <option value="üåû">Sun Hat</option>
    <option value="üéÄ">Bow</option>
    <option value="üå∏">Flower Crown</option>
  </select>

  <br><br>
  <button onclick="startGame()">Start Tour</button>
</div>

<div id="game" class="screen">
  <div id="museum">
    <div id="avatar">
      <div class="headgear" id="hg"></div>
      <div class="body"></div>
      <div class="dress" id="dressLayer"></div>
    </div>

    <div class="artifact locked" style="left:60%;top:60%" onclick="visitArtifact(0)">üì∏</div>
    <div class="artifact locked" style="left:20%;top:50%" onclick="visitArtifact(1)">üíå</div>
    <div class="artifact locked" style="left:40%;top:30%" onclick="visitArtifact(2)">üß∏</div>
  </div>
</div>

<div id="modal">
  <div id="modalContent">
    <p id="question"></p>
    <textarea id="answer" placeholder="Type anything..."></textarea><br><br>
    <button onclick="submitAnswer()">Unlock</button>
  </div>
</div>

<div id="end" class="screen">
  <h2>One last thing‚Ä¶</h2>
  <label><input type="checkbox" id="agree"> I agree to send Dedso rupiya</label><br><br>
  <button onclick="finish()">Finish</button>

  <div id="coupon"></div>
</div>

<audio id="music" src="music.mp3" loop></audio>

<script>
let kisses = 0;
let currentArtifact = null;

const questions = [
  "What moment with me made you feel safe?",
  "What do you love about us?",
  "What‚Äôs one memory you never want to forget?"
];

function startGame() {
  const f = fname.value.trim();
  const l = lname.value.trim();
  if (f.toLowerCase() === "amena" && l.toLowerCase() === "farooq") kisses += 10;

  dressLayer.className = "dress " + dress.value;
  hg.textContent = headgear.value;

  start.classList.remove("active");
  game.classList.add("active");

  music.play().catch(()=>{});
}

function visitArtifact(i) {
  currentArtifact = i;
  avatar.style.left = document.querySelectorAll('.artifact')[i].style.left;
  setTimeout(()=>{
    question.textContent = questions[i];
    modal.style.display = "flex";
  },1000);
}

function submitAnswer() {
  kisses++;
  document.querySelectorAll('.artifact')[currentArtifact].classList.remove("locked");
  document.querySelectorAll('.artifact')[currentArtifact].classList.add("unlocked");
  modal.style.display = "none";

  if (kisses >= questions.length + 1) {
    game.classList.remove("active");
    end.classList.add("active");
  }
}

function finish() {
  if (!agree.checked) return;
  coupon.innerHTML = `
    <h3>Kiss Coupon</h3>
    <p>Redeemable for</p>
    <h1>${kisses} Kisses</h1>
    <p>Valid forever ‚ù§Ô∏è</p>
  `;
}
</script>

</body>
</html>